@import "tailwindcss";

:root {
  --background: #000000;
  --foreground: #ffffff;
}

html,
body {
  /* ═══════════════════════════════════════════════════════════════════
     MOBILE SCROLL PERFORMANCE - GPU compositing + prevent jank
  ═══════════════════════════════════════════════════════════════════ */
  overscroll-behavior: none;
  /* Kill rubber-band / pull-to-refresh on mobile */
  -webkit-overflow-scrolling: touch;
  /* iOS momentum scrolling (legacy but helps) */
  touch-action: pan-y;
  /* Single-axis scroll, prevent horizontal jank */
}

body {
  color: var(--foreground);
  background: var(--background);
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  overflow: hidden;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* ═══════════════════════════════════════════════════════════════════════════════
   EPIC SCI-FI ANIMATIONS
═══════════════════════════════════════════════════════════════════════════════ */

/* Scroll indicator - traveling light orb */
@keyframes scrollLine {
  0% {
    top: -10%;
    opacity: 0;
  }

  15% {
    opacity: 1;
  }

  75% {
    opacity: 1;
  }

  100% {
    top: 100%;
    opacity: 0;
  }
}

/* Chevron pulse animation */
@keyframes chevronPulse {

  0%,
  100% {
    transform: translateY(0);
    opacity: 0.7;
  }

  50% {
    transform: translateY(4px);
    opacity: 1;
  }
}

/* Title glow pulse */
@keyframes titleGlow {

  0%,
  100% {
    filter:
      drop-shadow(0 0 2px rgba(103, 232, 249, 0.9)) drop-shadow(0 0 10px rgba(34, 211, 238, 0.6)) drop-shadow(0 0 30px rgba(34, 211, 238, 0.4)) drop-shadow(0 0 60px rgba(34, 211, 238, 0.2)) drop-shadow(0 4px 20px rgba(0, 0, 0, 0.8));
  }

  50% {
    filter:
      drop-shadow(0 0 4px rgba(103, 232, 249, 1)) drop-shadow(0 0 15px rgba(34, 211, 238, 0.8)) drop-shadow(0 0 40px rgba(34, 211, 238, 0.5)) drop-shadow(0 0 80px rgba(34, 211, 238, 0.3)) drop-shadow(0 4px 20px rgba(0, 0, 0, 0.8));
  }
}

/* ═══════════════════════════════════════════════════════════════════════════════
   TYPOGRAPHY
═══════════════════════════════════════════════════════════════════════════════ */

* {
  text-rendering: optimizeLegibility;
}

.font-mono {
  font-family: 'JetBrains Mono', 'SF Mono', 'Fira Code', 'Monaco', monospace;
}

/* ═══════════════════════════════════════════════════════════════════════════════
   SCROLLBAR - Hidden for immersion
═══════════════════════════════════════════════════════════════════════════════ */

::-webkit-scrollbar {
  display: none;
}

html {
  scrollbar-width: none;
  -ms-overflow-style: none;
}

/* ═══════════════════════════════════════════════════════════════════════════════
   R3F SCROLL CONTAINER - GPU layer promotion for buttery mobile scroll
   The scroll wrapper from @react-three/drei ScrollControls
═══════════════════════════════════════════════════════════════════════════════ */

/* ScrollControls wrapper — force GPU compositing */
[style*="overflow"] {
  -webkit-overflow-scrolling: touch;
  will-change: scroll-position;
  transform: translateZ(0);
  /* Promote to own GPU layer */
  backface-visibility: hidden;
  /* Prevent repaint flicker */
}

/* Canvas container — keep on GPU and prevent layout shifts */
#canvas-container {
  will-change: transform;
  transform: translateZ(0);
  backface-visibility: hidden;
  contain: layout style paint;
  /* CSS containment = fewer reflows */
}

/* ═══════════════════════════════════════════════════════════════════════════════
   TRANSITION EFFECTS
═══════════════════════════════════════════════════════════════════════════════ */

/* Film grain animation - used by TransitionOverlay */
@keyframes grainDrift {
  0% {
    transform: translate(0, 0);
  }

  25% {
    transform: translate(-2%, 3%);
  }

  50% {
    transform: translate(3%, -1%);
  }

  75% {
    transform: translate(-3%, -2%);
  }

  100% {
    transform: translate(0, 0);
  }
}

.transition-grain {
  animation: grainDrift 0.3s steps(4) infinite;
}

/* Reduced motion: disable streaks and fancy transitions */
@media (prefers-reduced-motion: reduce) {
  .transition-grain {
    animation: none;
  }
}